"use strict";function r(r){return r&&"object"==typeof r&&"default"in r?r.default:r}var e=require("@web3-react/abstract-connector"),t=r(require("web3-provider-engine")),i=r(require("web3-provider-engine/subproviders/cache.js")),n=require("@0x/subproviders/lib/src/subproviders/rpc_subprovider"),s=r(require("tiny-invariant"));exports.NetworkConnector=function(r){var e,o;function c(e){var o,c=e.urls,u=e.defaultChainId,a=e.pollingInterval,d=e.requestTimeoutMs;return u||1===Object.keys(c).length||s(!1),(o=r.call(this,{supportedChainIds:Object.keys(c).map((function(r){return Number(r)}))})||this).currentChainId=u||Number(Object.keys(c)[0]),o.pollingInterval=a,o.requestTimeoutMs=d,o.providers=Object.keys(c).reduce((function(r,e){var s,u=new t({pollingInterval:o.pollingInterval});return u.addProvider(new i),u.addProvider(new n.RPCSubprovider(c[Number(e)],o.requestTimeoutMs)),Object.assign(r,((s={})[Number(e)]=u,s))}),{}),o.active=!1,o}o=r,(e=c).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var u=c.prototype;return u.activate=function(){try{return this.providers[this.currentChainId].start(),this.active=!0,Promise.resolve({provider:this.providers[this.currentChainId],chainId:this.currentChainId,account:null})}catch(r){return Promise.reject(r)}},u.getProvider=function(){try{return Promise.resolve(this.providers[this.currentChainId])}catch(r){return Promise.reject(r)}},u.getChainId=function(){try{return Promise.resolve(this.currentChainId)}catch(r){return Promise.reject(r)}},u.getAccount=function(){return Promise.resolve(null)},u.deactivate=function(){this.providers[this.currentChainId].stop(),this.active=!1},u.changeChainId=function(r){Object.keys(this.providers).includes(r.toString())||s(!1),this.active?(this.providers[this.currentChainId].stop(),this.currentChainId=r,this.providers[this.currentChainId].start(),this.emitUpdate({provider:this.providers[this.currentChainId],chainId:r})):this.currentChainId=r},c}(e.AbstractConnector);
//# sourceMappingURL=network-connector.cjs.production.min.js.map
