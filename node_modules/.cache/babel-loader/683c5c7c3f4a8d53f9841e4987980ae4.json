{"ast":null,"code":"import _slicedToArray from\"/Users/kerp/Documents/GitHub/landing-page/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useMemo,useCallback,useEffect,useRef}from'react';import{useWeb3React as useWeb3ReactCore}from'@web3-react/core';import copy from'copy-to-clipboard';import{isMobile}from'react-device-detect';import{NetworkContextName}from'../constants';import ERC20_ABI from'../constants/abis/erc20';import{getContract,getFactoryContract,getExchangeContract,isAddress}from'../utils';import{injected}from'../connectors';export function useWeb3React(){var context=useWeb3ReactCore();var contextNetwork=useWeb3ReactCore(NetworkContextName);return context.active?context:contextNetwork;}export function useEagerConnect(){var _useWeb3ReactCore=useWeb3ReactCore(),activate=_useWeb3ReactCore.activate,active=_useWeb3ReactCore.active;// specifically using useWeb3ReactCore because of what this hook does\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),tried=_useState2[0],setTried=_useState2[1];useEffect(function(){injected.isAuthorized().then(function(isAuthorized){if(isAuthorized){activate(injected,undefined,true).catch(function(){setTried(true);});}else{if(isMobile&&window.ethereum){activate(injected,undefined,true).catch(function(){setTried(true);});}else{setTried(true);}}});},[activate]);// intentionally only running on mount (make sure it's only mounted once :))\n// if the connection worked, wait until we get confirmation of that to flip the flag\nuseEffect(function(){if(active){setTried(true);}},[active]);return tried;}/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */export function useInactiveListener(){var suppress=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var _useWeb3ReactCore2=useWeb3ReactCore(),active=_useWeb3ReactCore2.active,error=_useWeb3ReactCore2.error,activate=_useWeb3ReactCore2.activate;// specifically using useWeb3React because of what this hook does\nuseEffect(function(){var _window=window,ethereum=_window.ethereum;if(ethereum&&ethereum.on&&!active&&!error&&!suppress){var handleChainChanged=function handleChainChanged(){// eat errors\nactivate(injected,undefined,true).catch(function(){});};var handleAccountsChanged=function handleAccountsChanged(accounts){if(accounts.length>0){// eat errors\nactivate(injected,undefined,true).catch(function(){});}};var handleNetworkChanged=function handleNetworkChanged(){// eat errors\nactivate(injected,undefined,true).catch(function(){});};ethereum.on('chainChanged',handleChainChanged);ethereum.on('networkChanged',handleNetworkChanged);ethereum.on('accountsChanged',handleAccountsChanged);return function(){if(ethereum.removeListener){ethereum.removeListener('chainChanged',handleChainChanged);ethereum.removeListener('networkChanged',handleNetworkChanged);ethereum.removeListener('accountsChanged',handleAccountsChanged);}};}return function(){};},[active,error,suppress,activate]);}// modified from https://usehooks.com/useDebounce/\nexport function useDebounce(value,delay){var _useState3=useState(value),_useState4=_slicedToArray(_useState3,2),debouncedValue=_useState4[0],setDebouncedValue=_useState4[1];useEffect(function(){// Update debounced value after delay\nvar handler=setTimeout(function(){setDebouncedValue(value);},delay);// Cancel the timeout if value changes (also on delay change or unmount)\n// This is how we prevent debounced value from updating if value is changed ...\n// .. within the delay period. Timeout gets cleared and restarted.\nreturn function(){clearTimeout(handler);};},[value,delay]);return debouncedValue;}// modified from https://usehooks.com/useKeyPress/\nexport function useBodyKeyDown(targetKey,onKeyDown){var suppressOnKeyDown=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var downHandler=useCallback(function(event){var tagName=event.target.tagName,key=event.key;if(key===targetKey&&tagName==='BODY'&&!suppressOnKeyDown){event.preventDefault();onKeyDown();}},[targetKey,onKeyDown,suppressOnKeyDown]);useEffect(function(){window.addEventListener('keydown',downHandler);return function(){window.removeEventListener('keydown',downHandler);};},[downHandler]);}export function useENSName(address){var _useWeb3React=useWeb3React(),library=_useWeb3React.library;var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),ENSName=_useState6[0],setENSName=_useState6[1];useEffect(function(){if(isAddress(address)){var stale=false;library.lookupAddress(address).then(function(name){if(!stale){if(name){setENSName(name);}else{setENSName(null);}}}).catch(function(){if(!stale){setENSName(null);}});return function(){stale=true;setENSName();};}},[library,address]);return ENSName;}// returns null on errors\nexport function useContract(address,ABI){var withSignerIfPossible=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var _useWeb3React2=useWeb3React(),library=_useWeb3React2.library,account=_useWeb3React2.account;return useMemo(function(){try{return getContract(address,ABI,library,withSignerIfPossible?account:undefined);}catch(_unused){return null;}},[address,ABI,library,withSignerIfPossible,account]);}// returns null on errors\nexport function useTokenContract(tokenAddress){var withSignerIfPossible=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var _useWeb3React3=useWeb3React(),library=_useWeb3React3.library,account=_useWeb3React3.account;return useMemo(function(){try{return getContract(tokenAddress,ERC20_ABI,library,withSignerIfPossible?account:undefined);}catch(_unused2){return null;}},[tokenAddress,library,withSignerIfPossible,account]);}// returns null on errors\nexport function useFactoryContract(){var withSignerIfPossible=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var _useWeb3React4=useWeb3React(),chainId=_useWeb3React4.chainId,library=_useWeb3React4.library,account=_useWeb3React4.account;return useMemo(function(){try{return getFactoryContract(chainId,library,withSignerIfPossible?account:undefined);}catch(_unused3){return null;}},[chainId,library,withSignerIfPossible,account]);}export function useExchangeContract(exchangeAddress){var withSignerIfPossible=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var _useWeb3React5=useWeb3React(),library=_useWeb3React5.library,account=_useWeb3React5.account;return useMemo(function(){try{return getExchangeContract(exchangeAddress,library,withSignerIfPossible?account:undefined);}catch(_unused4){return null;}},[exchangeAddress,library,withSignerIfPossible,account]);}export function useCopyClipboard(){var timeout=arguments.length>0&&arguments[0]!==undefined?arguments[0]:500;var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isCopied=_useState8[0],setIsCopied=_useState8[1];var staticCopy=useCallback(function(text){var didCopy=copy(text);setIsCopied(didCopy);},[]);useEffect(function(){if(isCopied){var hide=setTimeout(function(){setIsCopied(false);},timeout);return function(){clearTimeout(hide);};}},[isCopied,setIsCopied,timeout]);return[isCopied,staticCopy];}// modified from https://usehooks.com/usePrevious/\nexport function usePrevious(value){// The ref object is a generic container whose current property is mutable ...\n// ... and can hold any value, similar to an instance property on a class\nvar ref=useRef();// Store current value in ref\nuseEffect(function(){ref.current=value;},[value]);// Only re-run if value changes\n// Return previous value (happens before update in useEffect above)\nreturn ref.current;}","map":{"version":3,"sources":["/Users/kerp/Documents/GitHub/landing-page/src/hooks/index.js"],"names":["useState","useMemo","useCallback","useEffect","useRef","useWeb3React","useWeb3ReactCore","copy","isMobile","NetworkContextName","ERC20_ABI","getContract","getFactoryContract","getExchangeContract","isAddress","injected","context","contextNetwork","active","useEagerConnect","activate","tried","setTried","isAuthorized","then","undefined","catch","window","ethereum","useInactiveListener","suppress","error","on","handleChainChanged","handleAccountsChanged","accounts","length","handleNetworkChanged","removeListener","useDebounce","value","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useBodyKeyDown","targetKey","onKeyDown","suppressOnKeyDown","downHandler","event","tagName","target","key","preventDefault","addEventListener","removeEventListener","useENSName","address","library","ENSName","setENSName","stale","lookupAddress","name","useContract","ABI","withSignerIfPossible","account","useTokenContract","tokenAddress","useFactoryContract","chainId","useExchangeContract","exchangeAddress","useCopyClipboard","timeout","isCopied","setIsCopied","staticCopy","text","didCopy","hide","usePrevious","ref","current"],"mappings":"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","sourcesContent":["import { useState, useMemo, useCallback, useEffect, useRef } from 'react'\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\nimport copy from 'copy-to-clipboard'\nimport { isMobile } from 'react-device-detect'\n\nimport { NetworkContextName } from '../constants'\nimport ERC20_ABI from '../constants/abis/erc20'\nimport { getContract, getFactoryContract, getExchangeContract, isAddress } from '../utils'\nimport { injected } from '../connectors'\n\nexport function useWeb3React() {\n  const context = useWeb3ReactCore()\n  const contextNetwork = useWeb3ReactCore(NetworkContextName)\n\n  return context.active ? context : contextNetwork\n}\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3ReactCore() // specifically using useWeb3ReactCore because of what this hook does\n\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    injected.isAuthorized().then(isAuthorized => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        if (isMobile && window.ethereum) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true)\n          })\n        } else {\n          setTried(true)\n        }\n      }\n    })\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (active) {\n      setTried(true)\n    }\n  }, [active])\n\n  return tried\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\n\n  useEffect(() => {\n    const { ethereum } = window\n\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleChainChanged = () => {\n        // eat errors\n        activate(injected, undefined, true).catch(() => {})\n      }\n\n      const handleAccountsChanged = accounts => {\n        if (accounts.length > 0) {\n          // eat errors\n          activate(injected, undefined, true).catch(() => {})\n        }\n      }\n\n      const handleNetworkChanged = () => {\n        // eat errors\n        activate(injected, undefined, true).catch(() => {})\n      }\n\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('networkChanged', handleNetworkChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n        }\n      }\n    }\n\n    return () => {}\n  }, [active, error, suppress, activate])\n}\n\n// modified from https://usehooks.com/useDebounce/\nexport function useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n\n// modified from https://usehooks.com/useKeyPress/\nexport function useBodyKeyDown(targetKey, onKeyDown, suppressOnKeyDown = false) {\n  const downHandler = useCallback(\n    event => {\n      const {\n        target: { tagName },\n        key\n      } = event\n      if (key === targetKey && tagName === 'BODY' && !suppressOnKeyDown) {\n        event.preventDefault()\n        onKeyDown()\n      }\n    },\n    [targetKey, onKeyDown, suppressOnKeyDown]\n  )\n\n  useEffect(() => {\n    window.addEventListener('keydown', downHandler)\n    return () => {\n      window.removeEventListener('keydown', downHandler)\n    }\n  }, [downHandler])\n}\n\nexport function useENSName(address) {\n  const { library } = useWeb3React()\n\n  const [ENSName, setENSName] = useState()\n\n  useEffect(() => {\n    if (isAddress(address)) {\n      let stale = false\n      library\n        .lookupAddress(address)\n        .then(name => {\n          if (!stale) {\n            if (name) {\n              setENSName(name)\n            } else {\n              setENSName(null)\n            }\n          }\n        })\n        .catch(() => {\n          if (!stale) {\n            setENSName(null)\n          }\n        })\n\n      return () => {\n        stale = true\n        setENSName()\n      }\n    }\n  }, [library, address])\n\n  return ENSName\n}\n\n// returns null on errors\nexport function useContract(address, ABI, withSignerIfPossible = true) {\n  const { library, account } = useWeb3React()\n\n  return useMemo(() => {\n    try {\n      return getContract(address, ABI, library, withSignerIfPossible ? account : undefined)\n    } catch {\n      return null\n    }\n  }, [address, ABI, library, withSignerIfPossible, account])\n}\n\n// returns null on errors\nexport function useTokenContract(tokenAddress, withSignerIfPossible = true) {\n  const { library, account } = useWeb3React()\n\n  return useMemo(() => {\n    try {\n      return getContract(tokenAddress, ERC20_ABI, library, withSignerIfPossible ? account : undefined)\n    } catch {\n      return null\n    }\n  }, [tokenAddress, library, withSignerIfPossible, account])\n}\n\n// returns null on errors\nexport function useFactoryContract(withSignerIfPossible = true) {\n  const { chainId, library, account } = useWeb3React()\n\n  return useMemo(() => {\n    try {\n      return getFactoryContract(chainId, library, withSignerIfPossible ? account : undefined)\n    } catch {\n      return null\n    }\n  }, [chainId, library, withSignerIfPossible, account])\n}\n\nexport function useExchangeContract(exchangeAddress, withSignerIfPossible = true) {\n  const { library, account } = useWeb3React()\n\n  return useMemo(() => {\n    try {\n      return getExchangeContract(exchangeAddress, library, withSignerIfPossible ? account : undefined)\n    } catch {\n      return null\n    }\n  }, [exchangeAddress, library, withSignerIfPossible, account])\n}\n\nexport function useCopyClipboard(timeout = 500) {\n  const [isCopied, setIsCopied] = useState(false)\n\n  const staticCopy = useCallback(text => {\n    const didCopy = copy(text)\n    setIsCopied(didCopy)\n  }, [])\n\n  useEffect(() => {\n    if (isCopied) {\n      const hide = setTimeout(() => {\n        setIsCopied(false)\n      }, timeout)\n\n      return () => {\n        clearTimeout(hide)\n      }\n    }\n  }, [isCopied, setIsCopied, timeout])\n\n  return [isCopied, staticCopy]\n}\n\n// modified from https://usehooks.com/usePrevious/\nexport function usePrevious(value) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = useRef()\n\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value\n  }, [value]) // Only re-run if value changes\n\n  // Return previous value (happens before update in useEffect above)\n  return ref.current\n}\n"]},"metadata":{},"sourceType":"module"}